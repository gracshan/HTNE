<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.2.3/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/8.2.3/firebase-analytics.js"></script>

<script>
  var firebaseConfig = {
    apiKey: "AIzaSyDYannCIc1_jOKdhpXiL7GHxEEm9bpHADI",
    authDomain: "project-2-a5d31.firebaseapp.com",
    projectId: "project-2-a5d31",
    storageBucket: "project-2-a5d31.appspot.com",
    messagingSenderId: "395071429101",
    appId: "1:395071429101:web:6ed2b6ebcce707a5b62fe4",
    measurementId: "G-7B9L0JXHEP"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();
</script>









var db = firebase.firestore();

describe("firestore", () => {
    var db;
    before(() => {
        var config = {
            apiKey: "AIzaSyDYannCIc1_jOKdhpXiL7GHxEEm9bpHADI",
            authDomain: "project-2-a5d31.firebaseapp.com",
            projectId: "project-2-a5d31"
        };
        var app = firebase.initializeApp(config);
        db = firebase.firestore(app);
    });

    it("should be able to set the cache size", () => {
        firebase.firestore().settings({
            cacheSizeBytes: firebase.firestore.CACHE_SIZE_UNLIMITED
        });
    });
    
    describe("collection('projects')", () => {
            it("should add data to a collection", () => {
                var output =
                // [START add_ada_lovelace]
                db.collection("projects").add({
                    project_id: "abc"
                })
                .then(function(docRef) {
                    console.log("Project ID: ", docRef.id);
                })
                .catch(function(error) {
                    console.error("Error adding document: ", error);
                });
                return output;
            });

    it("should get all projects", () => {
        var output = Null
        db.collection("projects").get().then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
                console.log(`${doc.id} => ${doc.data()}`);
            });
        });
        return output;
    });

    describe("collection('projects')", () => {
    it("should add project to a collection", () => {
        var output =
        db.collection("projects").add({
            project_id: 'abc'
        })
        .then(function(docRef) {
            console.log("Document written with ID: ", docRef.id);
        })
        .catch(function(error) {
            console.error("Error adding document: ", error);
        });
        return output;
    });
